<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>$HADOWbYT3$ ‚Äî Leaks</title>
  <style>
    body {
      background: #050505;
      color: #00ffcc;
      font-family: monospace;
      margin: 0;
      padding: 20px;
    }

    h1 {
      text-align: center;
      text-shadow: 0 0 10px #00ffcc;
    }

    .container {
      max-width: 800px;
      margin: auto;
    }

    .file {
      display: flex;
      justify-content: space-between;
      padding: 12px;
      border-bottom: 1px solid #00ffcc33;
      opacity: 1;
      transition: 0.3s;
    }

    .locked {
      opacity: 0.4;
    }

    .timer {
      color: #ff4444;
    }

    a {
      color: #00ffcc;
      text-decoration: none;
    }

    a:hover {
      text-shadow: 0 0 5px #00ffcc;
    }

    .home {
      display: inline-block;
      margin-bottom: 20px;
      padding: 8px 14px;
      border: 1px solid #00ffcc;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <div class="container">
    <a class="home" href="index.html">‚Üê Home</a>
    <h1>$HADOWbYT3$ ‚Äî Leaks</h1>
    <div id="files">Loading...</div>
  </div>

  <script>
    const USER = "Hackerslacker921";
    const REPO = "SHADOWBYT3S-BL0G";
    const PATH = ""; // root
    const LOCK_TIME = 24 * 60 * 60 * 1000; // 24 hours

    const allowed = [".zip", ".7z", ".rar", ".tar", ".gz"];

    function format(ms) {
      const s = Math.floor(ms / 1000);
      const d = Math.floor(s / 86400);
      const h = Math.floor((s % 86400) / 3600);
      const m = Math.floor((s % 3600) / 60);
      const sec = s % 60;
      return `${d}d ${h}h ${m}m ${sec}s`;
    }

    async function loadFiles() {
      const res = await fetch(`https://api.github.com/repos/${USER}/${REPO}/contents/${PATH}`);
      const data = await res.json();

      const filesDiv = document.getElementById("files");
      filesDiv.innerHTML = "";

      const now = Date.now();

      data.forEach(file => {
        const ext = file.name.slice(file.name.lastIndexOf(".")).toLowerCase();
        if (!allowed.includes(ext)) return;

        const row = document.createElement("div");
        row.className = "file";

        fetch(file.url)
          .then(r => r.json())
          .then(meta => {
            const uploaded = new Date(meta.commit.committer.date).getTime();
            const unlockTime = uploaded + LOCK_TIME;

            if (now < unlockTime) {
              row.classList.add("locked");
              const remaining = unlockTime - now;
              row.innerHTML = `
                <span>üîí ${file.name}</span>
                <span class="timer" data-unlock="${unlockTime}">${format(remaining)}</span>
              `;
            } else {
              row.innerHTML = `
                <span>${file.name}</span>
                <a href="${file.download_url}" target="_blank">Download</a>
              `;
            }
          });

        filesDiv.appendChild(row);
      });
    }

    function updateTimers() {
      const timers = document.querySelectorAll(".timer");
      const now = Date.now();

      timers.forEach(t => {
        const unlock = parseInt(t.dataset.unlock);
        const diff = unlock - now;

        if (diff <= 0) {
          location.reload();
        } else {
          t.textContent = format(diff);
        }
      });
    }

    loadFiles();
    setInterval(updateTimers, 1000);
  </script>
</body>
</html>
